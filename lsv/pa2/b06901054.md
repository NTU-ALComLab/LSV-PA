# Report PA2

### Approach
#### Flow
We extract the cone of certain PO to construct the corresponding AIG and CNF. Then we add CNF to SAT solver, and the CNF we add to SAT solver is𝐹∧¬𝐹∧( _𝑎_i_ ∨ _x_i_ ∨¬ _x_i_' )∧( _𝑎_i_ ∨ _x_i_' !∨¬ _x_i_ ), where 𝑥!is the PI of 𝐹and 𝑥"!is the PI of ¬𝐹. To prove _x_i_ is positive unate, we need to make assumption that _a_i_ =1, _x_i_ =0, _x_i_' =1 while _a_i_=0,𝑗≠𝑖, and the result must be UNSAT. To prove 𝑥!is negative unate, we just need change the assumption to _x_i_ =1, _x_i_' =0. Therefore, we only need to construct CNF for each PO once.

![](https://i.imgur.com/0GcQUuR.png)



#### Data Structure
I construct a class Network to store the information of the current network. It contains the pointer of original network, the AIG pointer of original network, the pointer of current PO cone.
Besides, we also maintain a map of PI name to proving result to have correct result while proving cones.

#### Optimization
I try four optimization command to reduce the size of AIG : DC2, drw, dfraig, balance.
Besides, I have use a alternative SAT solver GLUCOSE to compare with MINISAT.

### Result

We tried five different approach to solve the problem. The approaches are list 
below and the experimental result is shown as the table. There are total 13 cases, and the table shows the runtime to solve each case by different approaches.
Approach 1 : Glucose without optimization
Approach 2 : Glucose with ten iteration optimization
Approach 3 : Minisat without optimization
Approach 4 : Minisatwith one iteration optimization
Approach 5: Minisatwith teniteration optimization

![](https://i.imgur.com/81l9E1i.png)


Additional test case
![](https://i.imgur.com/v2asdNW.png)


### Analysis
Both approach 3 and approach 4 use minisat as the SAT solver. Compared the 
runtime of the two approaches, the results show that optimization only has little improvement to case 7 while doing optimization will increase the runtime in all the other cases. 
Approach 1 and approach 3 are only differ in SAT solver. The result shows that although approach 1 performs better in case 7, the runtime of approach 3 is faster than the runtime of approach 1.
Given a longer runtime limit, I can solve two more test case. I have tried two different way, the result can show that approach four can solve the case faster.