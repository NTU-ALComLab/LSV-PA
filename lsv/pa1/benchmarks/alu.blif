.model alu
.inputs a1 a0 b1 b0 c
.outputs y2 y1 y0

# 產生 B 的補數 (若 c=1 -> subtraction)
.names b0 c bx0
01 1
10 1
.names b1 c bx1
01 1
10 1

.subckt fulladder a=a0 b=bx0 cin=c s=y0 cout=c1
.subckt fulladder a=a1 b=bx1 cin=c1 s=y1 cout=c2

.names c c2 y2
01 1
10 1

.end

.model fulladder
.inputs a b cin
.outputs s cout

# XOR(a,b) -> t0
.names a b t0
01 1
10 1

# XOR(t0,cin) -> s
.names t0 cin s
01 1
10 1

# Majority function for cout
.names a b cin cout
11- 1
1-1 1
-11 1
.end